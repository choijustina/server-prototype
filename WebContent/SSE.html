<!DOCTYPE html>
<html>

<head>
<script type="text/javascript">
// GLOBAL VARIABLES FOR LATER //////////////////////////////////////
//checks received from parent
var arrayVals = new Array(9);

// 
function pageScroll() {
	window.scrollBy(0,100);
	scrolldelay = setTimeout('pageScroll()',50);
}

function addLoadEvent(func) {
  var oldonload = window.onload;
  if (typeof window.onload != 'function') {
    window.onload = func;
  } else {
    window.onload = function() {
      if (oldonload) {
        oldonload();
      }
      func();
    }
  }
}

function buttonPressed(){
	for (var i = 0; i < 10; i++) {
		arrayVals[i] = window.parent.param[i];
	}
	alert("rcvd values: " + arrayVals);
	
	//call back to alert parent that values were received
	//for testing
	//window.parent.babyCallback();
}


</script>

</head>

<body>



<div id="ServerTime"></div>

	<script>
	
	addLoadEvent(pageScroll());

//	addLoadEvent(function() {...});

	

	if (typeof (EventSource) !== "undefined") {
		var source = new EventSource("http://localhost:8080/SSE/SseServer");
		source.onmessage = function(event) {
			document.getElementById("ServerTime").innerHTML += event.data + "<br>";
		}
	} else {
		document.getElementById("ServerTime").innerHTML = "Sorry, your browser does not support server-sent events...";
	}
	
	</script>

</body>
</html>
